import{j as i,b as je,u as Ae,c as X}from"./vendor-query-BBSsXiBS.js";import{a as s,d as De,u as ke}from"./vendor-react-Cua_SOQ2.js";import{c as ne,h as I,s as _,o as Te,X as Me}from"./index-De75nt2H.js";import{u as W,a as Le,P as M,c as N,b as oe,d as _e,e as Fe,Q as Be,U as Ie,W as We,X as qe,Y as He,Z as Xe,_ as Ye,a3 as ae,h as ze,a4 as Ue,f as $e,z as Ke,a5 as se,i as ie,a0 as Qe,S as Ze,a1 as Ve,a6 as Ge,a7 as Je}from"./vendor-ui-Dpa_eFEd.js";import{S as et}from"./scroll-area-DovF1kS9.js";import{g as tt}from"./AppSidebar-BMrVA_Jp.js";import{u as rt}from"./useAuthenticatedUser-DxFjEeTf.js";const Z=ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const nt=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var ot="DismissableLayer",U="dismissableLayer.update",at="dismissableLayer.pointerDownOutside",st="dismissableLayer.focusOutside",V,ce=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),le=s.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:d,onDismiss:l,...g}=e,f=s.useContext(ce),[m,b]=s.useState(null),c=m?.ownerDocument??globalThis?.document,[,h]=s.useState({}),E=W(t,p=>b(p)),u=Array.from(f.layers),[v]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=u.indexOf(v),w=m?u.indexOf(m):-1,P=f.layersWithOutsidePointerEventsDisabled.size>0,C=w>=x,y=lt(p=>{const R=p.target,T=[...f.branches].some(H=>H.contains(R));!C||T||(o?.(p),d?.(p),p.defaultPrevented||l?.())},c),S=ut(p=>{const R=p.target;[...f.branches].some(H=>H.contains(R))||(a?.(p),d?.(p),p.defaultPrevented||l?.())},c);return Le(p=>{w===f.layers.size-1&&(r?.(p),!p.defaultPrevented&&l&&(p.preventDefault(),l()))},c),s.useEffect(()=>{if(m)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(V=c.body.style.pointerEvents,c.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),G(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(c.body.style.pointerEvents=V)}},[m,c,n,f]),s.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),G())},[m,f]),s.useEffect(()=>{const p=()=>h({});return document.addEventListener(U,p),()=>document.removeEventListener(U,p)},[]),i.jsx(M.div,{...g,ref:E,style:{pointerEvents:P?C?"auto":"none":void 0,...e.style},onFocusCapture:N(e.onFocusCapture,S.onFocusCapture),onBlurCapture:N(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:N(e.onPointerDownCapture,y.onPointerDownCapture)})});le.displayName=ot;var it="DismissableLayerBranch",ct=s.forwardRef((e,t)=>{const n=s.useContext(ce),r=s.useRef(null),o=W(t,r);return s.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(M.div,{...e,ref:o})});ct.displayName=it;function lt(e,t=globalThis?.document){const n=oe(e),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let g=function(){ue(at,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=g,t.addEventListener("click",o.current,{once:!0})):g()}else t.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",a),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ut(e,t=globalThis?.document){const n=oe(e),r=s.useRef(!1);return s.useEffect(()=>{const o=a=>{a.target&&!r.current&&ue(st,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function G(){const e=new CustomEvent(U);document.dispatchEvent(e)}function ue(e,t,n,{discrete:r}){const o=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?_e(o,a):o.dispatchEvent(a)}var Y=0;function dt(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??J()),document.body.insertAdjacentElement("beforeend",e[1]??J()),Y++,()=>{Y===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Y--}},[])}function J(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var ft="Portal",de=s.forwardRef((e,t)=>{const{container:n,...r}=e,[o,a]=s.useState(!1);Fe(()=>a(!0),[]);const d=n||o&&globalThis?.document?.body;return d?De.createPortal(i.jsx(M.div,{...r,ref:t}),d):null});de.displayName=ft;var O=function(){return O=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},O.apply(this,arguments)};function vt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function ht(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,a;r<o;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var fe=Be(),z=function(){},q=s.forwardRef(function(e,t){var n=s.useRef(null),r=s.useState({onScrollCapture:z,onWheelCapture:z,onTouchMoveCapture:z}),o=r[0],a=r[1],d=e.forwardProps,l=e.children,g=e.className,f=e.removeScrollBar,m=e.enabled,b=e.shards,c=e.sideCar,h=e.noIsolation,E=e.inert,u=e.allowPinchZoom,v=e.as,x=v===void 0?"div":v,w=e.gapMode,P=vt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=c,y=Ie([n,t]),S=O(O({},P),o);return s.createElement(s.Fragment,null,m&&s.createElement(C,{sideCar:fe,removeScrollBar:f,shards:b,noIsolation:h,inert:E,setCallbacks:a,allowPinchZoom:!!u,lockRef:n,gapMode:w}),d?s.cloneElement(s.Children.only(l),O(O({},S),{ref:y})):s.createElement(x,O({},S,{className:g,ref:y}),l))});q.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};q.classNames={fullWidth:qe,zeroRight:We};var $=!1;if(typeof window<"u")try{var F=Object.defineProperty({},"passive",{get:function(){return $=!0,!0}});window.addEventListener("test",F,F),window.removeEventListener("test",F,F)}catch{$=!1}var A=$?{passive:!1}:!1,mt=function(e){return e.tagName==="TEXTAREA"},ve=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!mt(e)&&n[t]==="visible")},pt=function(e){return ve(e,"overflowY")},gt=function(e){return ve(e,"overflowX")},ee=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=he(e,r);if(o){var a=me(e,r),d=a[1],l=a[2];if(d>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},yt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},he=function(e,t){return e==="v"?pt(t):gt(t)},me=function(e,t){return e==="v"?xt(t):yt(t)},bt=function(e,t){return e==="h"&&t==="rtl"?-1:1},wt=function(e,t,n,r,o){var a=bt(e,window.getComputedStyle(t).direction),d=a*r,l=n.target,g=t.contains(l),f=!1,m=d>0,b=0,c=0;do{var h=me(e,l),E=h[0],u=h[1],v=h[2],x=u-v-a*E;(E||x)&&he(e,l)&&(b+=x,c+=E),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!g&&l!==document.body||g&&(t.contains(l)||t===l));return(m&&Math.abs(b)<1||!m&&Math.abs(c)<1)&&(f=!0),f},B=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},te=function(e){return[e.deltaX,e.deltaY]},re=function(e){return e&&"current"in e?e.current:e},Pt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Ct=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Et=0,D=[];function St(e){var t=s.useRef([]),n=s.useRef([0,0]),r=s.useRef(),o=s.useState(Et++)[0],a=s.useState(He)[0],d=s.useRef(e);s.useEffect(function(){d.current=e},[e]),s.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var u=ht([e.lockRef.current],(e.shards||[]).map(re),!0).filter(Boolean);return u.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),u.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=s.useCallback(function(u,v){if("touches"in u&&u.touches.length===2)return!d.current.allowPinchZoom;var x=B(u),w=n.current,P="deltaX"in u?u.deltaX:w[0]-x[0],C="deltaY"in u?u.deltaY:w[1]-x[1],y,S=u.target,p=Math.abs(P)>Math.abs(C)?"h":"v";if("touches"in u&&p==="h"&&S.type==="range")return!1;var R=ee(p,S);if(!R)return!0;if(R?y=p:(y=p==="v"?"h":"v",R=ee(p,S)),!R)return!1;if(!r.current&&"changedTouches"in u&&(P||C)&&(r.current=y),!y)return!0;var T=r.current||y;return wt(T,v,u,T==="h"?P:C)},[]),g=s.useCallback(function(u){var v=u;if(!(!D.length||D[D.length-1]!==a)){var x="deltaY"in v?te(v):B(v),w=t.current.filter(function(y){return y.name===v.type&&(y.target===v.target||v.target===y.shadowParent)&&Pt(y.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var P=(d.current.shards||[]).map(re).filter(Boolean).filter(function(y){return y.contains(v.target)}),C=P.length>0?l(v,P[0]):!d.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),f=s.useCallback(function(u,v,x,w){var P={name:u,delta:v,target:x,should:w,shadowParent:Rt(x)};t.current.push(P),setTimeout(function(){t.current=t.current.filter(function(C){return C!==P})},1)},[]),m=s.useCallback(function(u){n.current=B(u),r.current=void 0},[]),b=s.useCallback(function(u){f(u.type,te(u),u.target,l(u,e.lockRef.current))},[]),c=s.useCallback(function(u){f(u.type,B(u),u.target,l(u,e.lockRef.current))},[]);s.useEffect(function(){return D.push(a),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:c}),document.addEventListener("wheel",g,A),document.addEventListener("touchmove",g,A),document.addEventListener("touchstart",m,A),function(){D=D.filter(function(u){return u!==a}),document.removeEventListener("wheel",g,A),document.removeEventListener("touchmove",g,A),document.removeEventListener("touchstart",m,A)}},[]);var h=e.removeScrollBar,E=e.inert;return s.createElement(s.Fragment,null,E?s.createElement(a,{styles:Ct(o)}):null,h?s.createElement(Xe,{gapMode:e.gapMode}):null)}function Rt(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ot=Ye(fe,St);var pe=s.forwardRef(function(e,t){return s.createElement(q,O({},e,{ref:t,sideCar:Ot}))});pe.classNames=q.classNames;var K="Popover",[ge]=$e(K,[ae]),L=ae(),[Nt,j]=ge(K),xe=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:a,modal:d=!1}=e,l=L(t),g=s.useRef(null),[f,m]=s.useState(!1),[b=!1,c]=ze({prop:r,defaultProp:o,onChange:a});return i.jsx(Ue,{...l,children:i.jsx(Nt,{scope:t,contentId:Ke(),triggerRef:g,open:b,onOpenChange:c,onOpenToggle:s.useCallback(()=>c(h=>!h),[c]),hasCustomAnchor:f,onCustomAnchorAdd:s.useCallback(()=>m(!0),[]),onCustomAnchorRemove:s.useCallback(()=>m(!1),[]),modal:d,children:n})})};xe.displayName=K;var ye="PopoverAnchor",jt=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=j(ye,n),a=L(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:l}=o;return s.useEffect(()=>(d(),()=>l()),[d,l]),i.jsx(se,{...a,...r,ref:t})});jt.displayName=ye;var be="PopoverTrigger",we=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=j(be,n),a=L(n),d=W(t,o.triggerRef),l=i.jsx(M.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Re(o.open),...r,ref:d,onClick:N(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:i.jsx(se,{asChild:!0,...a,children:l})});we.displayName=be;var Q="PopoverPortal",[At,Dt]=ge(Q,{forceMount:void 0}),Pe=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,a=j(Q,t);return i.jsx(At,{scope:t,forceMount:n,children:i.jsx(ie,{present:n||a.open,children:i.jsx(de,{asChild:!0,container:o,children:r})})})};Pe.displayName=Q;var k="PopoverContent",Ce=s.forwardRef((e,t)=>{const n=Dt(k,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,a=j(k,e.__scopePopover);return i.jsx(ie,{present:r||a.open,children:a.modal?i.jsx(kt,{...o,ref:t}):i.jsx(Tt,{...o,ref:t})})});Ce.displayName=k;var kt=s.forwardRef((e,t)=>{const n=j(k,e.__scopePopover),r=s.useRef(null),o=W(t,r),a=s.useRef(!1);return s.useEffect(()=>{const d=r.current;if(d)return Qe(d)},[]),i.jsx(pe,{as:Ze,allowPinchZoom:!0,children:i.jsx(Ee,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:N(e.onCloseAutoFocus,d=>{d.preventDefault(),a.current||n.triggerRef.current?.focus()}),onPointerDownOutside:N(e.onPointerDownOutside,d=>{const l=d.detail.originalEvent,g=l.button===0&&l.ctrlKey===!0,f=l.button===2||g;a.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:N(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),Tt=s.forwardRef((e,t)=>{const n=j(k,e.__scopePopover),r=s.useRef(!1),o=s.useRef(!1);return i.jsx(Ee,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(r.current||n.triggerRef.current?.focus(),a.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=a.target;n.triggerRef.current?.contains(d)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Ee=s.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:a,disableOutsidePointerEvents:d,onEscapeKeyDown:l,onPointerDownOutside:g,onFocusOutside:f,onInteractOutside:m,...b}=e,c=j(k,n),h=L(n);return dt(),i.jsx(Ve,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:a,children:i.jsx(le,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:g,onFocusOutside:f,onDismiss:()=>c.onOpenChange(!1),children:i.jsx(Ge,{"data-state":Re(c.open),role:"dialog",id:c.contentId,...h,...b,ref:t,style:{...b.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Se="PopoverClose",Mt=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=j(Se,n);return i.jsx(M.button,{type:"button",...r,ref:t,onClick:N(e.onClick,()=>o.onOpenChange(!1))})});Mt.displayName=Se;var Lt="PopoverArrow",_t=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=L(n);return i.jsx(Je,{...o,...r,ref:t})});_t.displayName=Lt;function Re(e){return e?"open":"closed"}var Ft=xe,Bt=we,It=Pe,Oe=Ce;const Wt=Ft,qt=Bt,Ne=s.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},o)=>i.jsx(It,{children:i.jsx(Oe,{ref:o,align:t,sideOffset:n,className:I("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ne.displayName=Oe.displayName;function Ht(){const[e,t]=s.useState(!1),n=ke(),r=je(),{data:o=[]}=Ae({queryKey:["notifications"],queryFn:async()=>{const{data:c,error:h}=await _.from("notifications").select("*").order("created_at",{ascending:!1}).limit(20);if(h)throw h;return c}}),a=o.filter(c=>!c.read).length,d=X({mutationFn:async c=>{const{error:h}=await _.from("notifications").update({read:!0}).eq("id",c);if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),l=X({mutationFn:async()=>{const{error:c}=await _.from("notifications").update({read:!0}).eq("read",!1);if(c)throw c},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),g=X({mutationFn:async c=>{const{error:h}=await _.from("notifications").delete().eq("id",c);if(h)throw h},onSuccess:()=>{r.invalidateQueries({queryKey:["notifications"]})}}),f=c=>{c.read||d.mutate(c.id),c.action_url&&(n(c.action_url),t(!1))},m=c=>{switch(c){case"success":return"bg-status-success";case"warning":return"bg-status-warning";case"error":return"bg-status-error";default:return"bg-brand-indigo"}},b=c=>{const h=new Date(c),u=new Date().getTime()-h.getTime(),v=Math.floor(u/6e4),x=Math.floor(u/36e5),w=Math.floor(u/864e5);return v<1?"Just now":v<60?`${v}m ago`:x<24?`${x}h ago`:w<7?`${w}d ago`:h.toLocaleDateString()};return i.jsxs(Wt,{open:e,onOpenChange:t,children:[i.jsx(qt,{asChild:!0,children:i.jsxs("button",{className:"relative flex items-center justify-center w-9 h-9 rounded-xl bg-white/[0.04] border border-white/[0.08] hover:bg-white/[0.08] hover:border-white/[0.12] transition-all duration-200",children:[i.jsx(Z,{className:"h-4 w-4 text-muted-foreground"}),a>0&&i.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-brand-indigo text-[10px] text-white flex items-center justify-center font-medium shadow-glow-sm",children:a>9?"9+":a})]})}),i.jsxs(Ne,{className:"w-80 p-0 bg-surface-elevated border-white/[0.08] rounded-xl shadow-glass-lg",align:"end",children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.06]",children:[i.jsx("h3",{className:"text-sm font-semibold text-white",children:"Notifications"}),a>0&&i.jsxs("button",{onClick:()=>l.mutate(),className:"flex items-center gap-1 text-[10px] font-medium text-brand-indigo-light hover:text-white transition-colors",children:[i.jsx(Te,{className:"h-3 w-3"}),"Mark all read"]})]}),i.jsx(et,{className:"h-[300px]",children:o.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-xl bg-white/[0.04] border border-white/[0.06] mb-3",children:i.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No notifications"})]}):i.jsx("div",{className:"divide-y divide-white/[0.04]",children:o.map(c=>i.jsx("div",{className:I("px-4 py-3 cursor-pointer hover:bg-white/[0.03] transition-colors",!c.read&&"bg-brand-indigo/[0.03]"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:I("w-2 h-2 rounded-full mt-1.5 shrink-0",m(c.type))}),i.jsxs("div",{className:"flex-1 min-w-0",onClick:()=>f(c),children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("p",{className:I("text-sm truncate",c.read?"text-muted-foreground":"text-white font-medium"),children:c.title}),i.jsx("button",{className:"shrink-0 p-1 rounded-md hover:bg-white/[0.06] transition-colors",onClick:h=>{h.stopPropagation(),g.mutate(c.id)},children:i.jsx(Me,{className:"h-3 w-3 text-muted-foreground hover:text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 line-clamp-2",children:c.message}),i.jsx("p",{className:"text-[10px] text-muted-foreground/60 mt-1",children:b(c.created_at)})]})]})},c.id))})})]})]})}function Zt({title:e,subtitle:t}){const{user:n}=rt();return i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(tt,{className:"md:hidden text-muted-foreground hover:text-white transition-colors",children:i.jsx(nt,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-white tracking-tight",children:e}),t&&i.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mt-0.5",children:t})]})]}),n&&i.jsx("div",{className:"flex items-center gap-3",children:i.jsx(Ht,{})})]})}export{Z as B,Zt as T};
